 jQuery(document) .ready( function() { $('#province-list').change( function() { var prov = $(this).val(); if (prov == "sp") { make_SP(); } else if (prov == "np") { make_NP(); } }); function make_SP() { $("#dataTables-res_item") .dataTable( { "bDestroy" : true, "bProcessing" : false, "bServerSide" : true, "sAjaxSource" : "/province_list_view?p_name=sp", "aoColumns" : [ { "mData" : "result_date", "sTitle" : "Result Date" }, { "mData" : "result_day", "sTitle" : "Result Day" }, { "mData" : "draw_number", "sTitle" : "Draw Number" }, { "mData" : "draw_time", "sTitle" : "Draw Time" } ], "order" : [ [ 0, "desc" ] ] }); }; function make_NP() { $("#dataTables-res_item") .dataTable( { "bDestroy" : true, "bProcessing" : false, "bServerSide" : true, "sAjaxSource" : "/province_list_view?p_name=np", "aoColumns" : [ { "mData" : "result_date", "sTitle" : "Result Date" }, { "mData" : "result_day", "sTitle" : "Result Day" }, { "mData" : "draw_number", "sTitle" : "Draw Number" }, { "mData" : "draw_time", "sTitle" : "Draw Time" }, { "mData" : "draw_place", "sTitle" : "Draw Place" }, { "mData" : "draw_person", "sTitle" : "Agent" } ], "order" : [ [ 0, "desc" ] ] }); }; }); 